<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>CodePen - Instagram Downloader</title>
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-beta/css/bootstrap.min.css'><link rel="stylesheet" href="/style.css">

</head>
<body>
<!-- partial:index.partial.html -->
<div class="container-fluid">
  <div id="header">
    <center><h1>INSTA<span style="color: red">DOWNLOAD</span></h1></center>
    <center><h4>Instagram photo and video downloader</h4></center>
    
    <div id="input-link">
      <center><input type="text" placeholder="https://instagram.com/profilename/41SW_pmmq4/" width="80">
        <button class="btn btn-danger">Download</button></center>
    </div>
  </div>
  <center><p><strong>Psst .. </strong>Make sure that the video is public before trying to download it!</p>
</div>  
    <center><div id="footer" style="font-size: 25px; font-family: Handlee; color: white;">Designed & Programmed by <a href="https://www.linkedin.com/in/ahmed-elkashef-0954b191?trk=nav_responsive_tab_profile_pic" style="font-weight:bold;">Ahmed Elkshef</a></div></center>
<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js'></script><script  src="/script.js"></script>
<script>
  $(document).ready(function() {
  
  $(".btn").click(function() {
    $.ajax({
       url:"https://cors-anywhere.herokuapp.com/" + $("input").val(),
       type:'GET',
       datatype: "jsonp",
       crossDomain: true,
       success: function(data){
         if ($(data).filter('meta[property="og:video"]').attr("content") ) {
           var downloadlink = $(data).filter('meta[property="og:video"]').attr("content");
           var a = $("<a>")
            .attr("href", downloadlink)
            .attr("download", "video.mp4")
            .appendTo("body");
            a[0].click();
            a.remove();
         } else {
           var downloadlink = $(data).filter('meta[property="og:image"]').attr("content");
           var a = $("<a>")
            .attr("href", downloadlink)
            .attr("download", "img.png")
            .appendTo("body");
            a[0].click();
            a.remove();
         }
           
       }
    });
    
  });
  });
  </script>
</body>
</html>
